### 헬스체크 설계

1. 액티브 헬스체크
   - 리버스 프록시 서버가 주기적으로 HTTP 서버에 요청을 보내 각 서버의 상태를 수집. HTTP 서버는 현재 시스템 상태를 수집하여 JSON 형태로 응답.
   - 불필요한 네트워크 트래픽이 발생한다는 단점이 있음.
   - CPU, 메모리 상태 등 상세한 정보를 수집할 수 있지만 모두 같은 swist 서버의 컴퓨터를 사용한다는 점에서 불필요하다고 판단.
2. HTTP 서버에서 메트릭 수집
   - 가장 정확한 서버 내부 상태를 파악할 수 있지만 코드 복잡도가 크게 증가하고 HTTP 서버는 요청 처리에 집중하기 어렵다는 문제가 있음.
3. **리버스 프록시 서버에서 패시브 헬스체크**
   - 실제 요청/응답을 통해 서버의 상태를 파악함. 모든 요청은 리버스 프록시 서버를 거치므로 별도의 상태 확인 요청이 필요하지 않음.
   - HTTP 서버의 CPU, 메모리 상태 등은 체크할 수 없지만 HTTP 서버를 수정하지 않아도 되고, 불필요한 트래픽이 발생하지 않는다는 점에서 가장 적합하다고 판단.

### 작동 방식

1. 클라이언트 요청 수신
2. 리버스 프록시 요청 처리 및 모니터링
   - 현재 처리중인 요청 수 증가
   - 요청 시작 시간 기록
   - HTTP 서버 선택
3. HTTP 서버로 요청 전달
4. 응답 처리
   - 처리중인 요청 수 감소
   - 응답 시간 계산
   - 성공/실패 여부 기록
   - 서버 상태 업데이트
5. 클라이언트에 응답 전달
